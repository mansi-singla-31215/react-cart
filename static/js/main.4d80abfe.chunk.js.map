{"version":3,"sources":["CartItem.js","Cart.js","Navbar.js","App.js","index.js"],"names":["styles","image","height","width","borderRadius","background","CartItem","props","product","price","title","qty","onIncreaseQuantity","onDecreaseQuantity","onDeleteProduct","className","style","src","img","fontSize","color","alt","onClick","id","Cart","products","map","cartIcon","marginRight","nav","display","justifyContent","alignItems","cartIconContainer","position","cartCount","padding","right","top","Navbar","count","App","handleIncreaseQuantity","console","log","state","index","indexOf","db","collection","doc","update","then","catch","error","handleDecreaseQuantity","handleDeleteProduct","delete","getCartCount","forEach","getCartTotal","cartTotal","addProduct","add","docRef","loading","firebase","firestore","onSnapshot","snapshot","docs","data","setState","this","React","Component","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d80abfe.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst CartItem = (props) => {\r\n\r\n    // increaseQuantity = () => {\r\n    //     // setState form 1 -> Ex for title change, use this\r\n    //     // this.setState({\r\n    //     //     qty: this.state.qty + 1\r\n    //     // });\r\n\r\n    //     // setState form 2 -> if prevState required use this\r\n    //     this.setState((prevState) => {\r\n    //         return{\r\n    //             qty: prevState.qty + 1\r\n    //         }\r\n    //     });\r\n    // }\r\n\r\n    const {price, title, qty} = props.product;\r\n    const {\r\n        product, \r\n        onIncreaseQuantity, \r\n        onDecreaseQuantity, \r\n        onDeleteProduct\r\n    } = props;\r\n    return (\r\n        <div className = \"cart-item\">\r\n            <div className=\"left-block\">\r\n                <img style={styles.image} src={product.img} />\r\n            </div>\r\n            <div className=\"right-block\">\r\n                <div style={ {fontSize: 25} } >{title}</div>\r\n                <div style={ {color: '#777'} }>Rs {price}</div>\r\n                <div style={ {color: '#777'} }>Qty: {qty}</div>\r\n                <div className=\"cart-item-actions\">\r\n                    {/* Buttons */}\r\n                    <img \r\n                     alt=\"increase\"\r\n                     className=\"action-icons\"\r\n                     src=\"https://cdn-icons.flaticon.com/png/512/3303/premium/3303893.png?token=exp=1636445190~hmac=0bd7543048df3d32d1e0158941d2ff7a\"\r\n                      onClick={() => onIncreaseQuantity(product)}\r\n                      />\r\n                    <img\r\n                      alt=\"decrease\"\r\n                      className=\"action-icons\"\r\n                      src=\"https://cdn-icons.flaticon.com/png/512/2740/premium/2740679.png?token=exp=1636445262~hmac=222dd56f175cb5ad263611d11efdac8d\"\r\n                      onClick={() => onDecreaseQuantity(product)}\r\n                     />\r\n                    <img\r\n                     alt=\"delete\" \r\n                     className=\"action-icons\" \r\n                     src=\"https://cdn-icons-png.flaticon.com/512/1214/1214428.png\"\r\n                     onClick={() => onDeleteProduct(product.id)}\r\n                     />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nconst styles = {\r\n    image: {\r\n        height: 140,\r\n        width: 110,\r\n        borderRadius: 4,\r\n        background: '#ccc'\r\n    }\r\n}\r\n\r\nexport default CartItem;","import React from \"react\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = (props) => {\r\n\r\n    const {products} = props;\r\n        return(\r\n            <div className=\"cart\">\r\n                \r\n                {products.map((product) => {\r\n                    return (\r\n                      <CartItem\r\n                         product = {product}\r\n                         key={product.id} \r\n                         onIncreaseQuantity = {props.onIncreaseQuantity}\r\n                         onDecreaseQuantity = {props.onDecreaseQuantity}\r\n                         onDeleteProduct = {props.onDeleteProduct}\r\n                      />)\r\n                })}\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default Cart;","import React from 'react';\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <div style={styles.nav}>\r\n      <div style={styles.cartIconContainer}>\r\n        <img style={styles.cartIcon} src=\"https://cdn-icons-png.flaticon.com/512/34/34568.png\" alt=\"cart-icon\" />\r\n        <span style={styles.cartCount}>{props.count}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  cartIcon: {\r\n    height: 32,\r\n    marginRight: 20\r\n  },\r\n  nav: {\r\n    height: 70,\r\n    background: '#4267b2',\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center'\r\n  },\r\n  cartIconContainer: {\r\n    position: 'relative'\r\n  },\r\n  cartCount: {\r\n    background: 'yellow',\r\n    borderRadius: '50%',\r\n    padding: '4px 8px',\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: -9\r\n  }\r\n};\r\n\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport Cart from \"./Cart\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nimport firebase from \"firebase/app\";\r\nimport firestore from \"firebase\";\r\n\r\nclass App extends React.Component {\r\n  constructor() {   // to add state\r\n    super();\r\n    this.state = {\r\n        products: [],\r\n        loading: true\r\n    }\r\n    this.db = firebase.firestore();\r\n    // this.increaseQuantity = this.increaseQuantity.bind(this);\r\n  }  \r\n \r\n\r\n  componentDidMount() {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"products\")\r\n      // .where('price', '<=', 9999)\r\n      .onSnapshot((snapshot) => {\r\n        console.log(snapshot);\r\n        const products = snapshot.docs.map((doc) => {\r\n          const data = doc.data();\r\n          data[\"id\"] = doc.id;\r\n          return data;\r\n        });\r\n\r\n        this.setState({ \r\n          products: products, \r\n          loading: false \r\n        });\r\n      });\r\n  }\r\n    \r\n\r\n\r\n  handleIncreaseQuantity = (product) => {\r\n    console.log('inc quantity', product);\r\n    const {products} = this.state;\r\n    const index = products.indexOf(product);\r\n\r\n    // for temporary change in state and not in firebase\r\n    // products[index].qty += 1;\r\n\r\n    // this.setState({\r\n    //     products\r\n    // })\r\n\r\n    const docRef = this.db.collection('products').doc(products[index].id);\r\n\r\n    docRef\r\n    .update({\r\n      qty: products[index].qty + 1\r\n    })\r\n    .then(() => {\r\n      console.log('Updated successfully');\r\n    })\r\n    .catch((error) => {\r\n      console.log('Error: ', error);\r\n    })\r\n  }\r\n\r\n  handleDecreaseQuantity = (product) => {\r\n    console.log('dec quantity', product);\r\n    const {products} = this.state;\r\n    const index = products.indexOf(product);\r\n\r\n    if(products[index].qty === 0){\r\n        return;\r\n    }\r\n\r\n    // products[index].qty -= 1;\r\n\r\n    // this.setState({\r\n    //     products\r\n    // })\r\n\r\n    const docRef = this.db.collection('products').doc(products[index].id);\r\n\r\n    docRef\r\n    .update({\r\n      qty: products[index].qty - 1\r\n    })\r\n    .then(() => {\r\n      console.log('Updated successfully');\r\n    })\r\n    .catch((error) => {\r\n      console.log('Error: ', error);\r\n    })\r\n\r\n  }\r\n  handleDeleteProduct = (id) => {\r\n    const {products} = this.state;\r\n\r\n    // const items = products.filter((item) => item.id !== id);  // [{}]\r\n\r\n    // this.setState({\r\n    //     products: items,\r\n    //     // loading: false\r\n    // });\r\n\r\n    const docRef = this.db.collection('products').doc(id);\r\n\r\n    docRef\r\n      .delete()\r\n      .then(() => {\r\n        console.log('Deleted successfully');\r\n      })\r\n      .catch((error) => {\r\n        console.log('Error: ', error);\r\n      })\r\n    \r\n  }\r\n\r\n  getCartCount = () => {\r\n    const {products} = this.state;\r\n    \r\n    let count = 0;\r\n\r\n    products.forEach((product) => {\r\n      count += product.qty;\r\n    })\r\n\r\n    return count;\r\n\r\n  }\r\n\r\n  getCartTotal = () => {\r\n    const {products} = this.state;\r\n\r\n    let cartTotal = 0;\r\n\r\n    products.map((product) => {\r\n      if(product.qty > 0){\r\n        cartTotal = cartTotal + product.qty * product.price;\r\n      }\r\n      return '';\r\n    });\r\n\r\n    return cartTotal;\r\n  }\r\n\r\n  addProduct = () => {\r\n    this.db\r\n      .collection('products')\r\n      .add({\r\n        img: '',\r\n        price: 900,\r\n        qty: 3,\r\n        title: 'washing machine'\r\n      })\r\n      .then((docRef) => {\r\n        console.log('product has been added', docRef);\r\n      })\r\n      .catch((error) => {\r\n        console.log('Error: ', error);\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const {products, loading} = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <Navbar count={this.getCartCount()} />\r\n        {/* <button onClick={this.addProduct} style={{padding: 20, fontSize:20}}>Add a Product</button> */}\r\n        <Cart\r\n          onIncreaseQuantity = {this.handleIncreaseQuantity}\r\n          onDecreaseQuantity = {this.handleDecreaseQuantity}\r\n          onDeleteProduct = {this.handleDeleteProduct}\r\n          products={products}\r\n         />\r\n\r\n         { loading && <h1>Loading Products ...</h1>}\r\n\r\n         <div style={{padding: 10, fontSize: 20} } >TOTAL: {this.getCartTotal()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n// import  initializeApp  from 'firebase/app';\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCPKZzz4WLxG4RyCYlqoT7_75CQ8a2Z8X0\",\n    authDomain: \"cart-3deff.firebaseapp.com\",\n    projectId: \"cart-3deff\",\n    storageBucket: \"cart-3deff.appspot.com\",\n    messagingSenderId: \"561103027755\",\n    appId: \"1:561103027755:web:8280936ac8ba08c881746e\"\n  };\n  \n  // Initialize Firebase\n  // const app = initializeApp(firebaseConfig);\n  // const db = getFirestore(app);\n  firebase.initializeApp(firebaseConfig);\n  \n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n  \n\n\n  // export default {db};\n\n\n\n\n\n"],"sourceRoot":""}