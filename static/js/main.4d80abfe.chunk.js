(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{45:function(t,e,c){},55:function(t,e,c){"use strict";c.r(e);var n=c(22),o=c.n(n),a=c(35),i=c.n(a),r=(c(45),c(36)),s=c(37),d=c(40),l=c(39),u=c(10),p={image:{height:140,width:110,borderRadius:4,background:"#ccc"}},h=function(t){var e=t.product,c=e.price,n=e.title,o=e.qty,a=t.product,i=t.onIncreaseQuantity,r=t.onDecreaseQuantity,s=t.onDeleteProduct;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("div",{className:"left-block",children:Object(u.jsx)("img",{style:p.image,src:a.img})}),Object(u.jsxs)("div",{className:"right-block",children:[Object(u.jsx)("div",{style:{fontSize:25},children:n}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Rs ",c]}),Object(u.jsxs)("div",{style:{color:"#777"},children:["Qty: ",o]}),Object(u.jsxs)("div",{className:"cart-item-actions",children:[Object(u.jsx)("img",{alt:"increase",className:"action-icons",src:"https://cdn-icons.flaticon.com/png/512/3303/premium/3303893.png?token=exp=1636445190~hmac=0bd7543048df3d32d1e0158941d2ff7a",onClick:function(){return i(a)}}),Object(u.jsx)("img",{alt:"decrease",className:"action-icons",src:"https://cdn-icons.flaticon.com/png/512/2740/premium/2740679.png?token=exp=1636445262~hmac=222dd56f175cb5ad263611d11efdac8d",onClick:function(){return r(a)}}),Object(u.jsx)("img",{alt:"delete",className:"action-icons",src:"https://cdn-icons-png.flaticon.com/512/1214/1214428.png",onClick:function(){return s(a.id)}})]})]})]})},f=function(t){var e=t.products;return Object(u.jsx)("div",{className:"cart",children:e.map((function(e){return Object(u.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},g={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},j=function(t){return Object(u.jsx)("div",{style:g.nav,children:Object(u.jsxs)("div",{style:g.cartIconContainer,children:[Object(u.jsx)("img",{style:g.cartIcon,src:"https://cdn-icons-png.flaticon.com/512/34/34568.png",alt:"cart-icon"}),Object(u.jsx)("span",{style:g.cartCount,children:t.count})]})})},b=c(26),y=(c(54),function(t){Object(d.a)(c,t);var e=Object(l.a)(c);function c(){var t;return Object(r.a)(this,c),(t=e.call(this)).handleIncreaseQuantity=function(e){console.log("inc quantity",e);var c=t.state.products,n=c.indexOf(e);t.db.collection("products").doc(c[n].id).update({qty:c[n].qty+1}).then((function(){console.log("Updated successfully")})).catch((function(t){console.log("Error: ",t)}))},t.handleDecreaseQuantity=function(e){console.log("dec quantity",e);var c=t.state.products,n=c.indexOf(e);0!==c[n].qty&&t.db.collection("products").doc(c[n].id).update({qty:c[n].qty-1}).then((function(){console.log("Updated successfully")})).catch((function(t){console.log("Error: ",t)}))},t.handleDeleteProduct=function(e){t.state.products;t.db.collection("products").doc(e).delete().then((function(){console.log("Deleted successfully")})).catch((function(t){console.log("Error: ",t)}))},t.getCartCount=function(){var e=t.state.products,c=0;return e.forEach((function(t){c+=t.qty})),c},t.getCartTotal=function(){var e=t.state.products,c=0;return e.map((function(t){return t.qty>0&&(c+=t.qty*t.price),""})),c},t.addProduct=function(){t.db.collection("products").add({img:"",price:900,qty:3,title:"washing machine"}).then((function(t){console.log("product has been added",t)})).catch((function(t){console.log("Error: ",t)}))},t.state={products:[],loading:!0},t.db=b.a.firestore(),t}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var t=this;b.a.firestore().collection("products").onSnapshot((function(e){console.log(e);var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,c=t.loading;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{count:this.getCartCount()}),Object(u.jsx)(f,{onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct,products:e}),c&&Object(u.jsx)("h1",{children:"Loading Products ..."}),Object(u.jsxs)("div",{style:{padding:10,fontSize:20},children:["TOTAL: ",this.getCartTotal()]})]})}}]),c}(o.a.Component));c(53);b.a.initializeApp({apiKey:"AIzaSyCPKZzz4WLxG4RyCYlqoT7_75CQ8a2Z8X0",authDomain:"cart-3deff.firebaseapp.com",projectId:"cart-3deff",storageBucket:"cart-3deff.appspot.com",messagingSenderId:"561103027755",appId:"1:561103027755:web:8280936ac8ba08c881746e"}),i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.4d80abfe.chunk.js.map